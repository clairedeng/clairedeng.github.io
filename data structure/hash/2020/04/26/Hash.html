<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicon.ico" />
    <title>Hash - Study Notes</title>
    <meta name="author" content="Claire Deng" />
    <meta name="description" content="Hash" />
    <meta name="keywords" content="Hash, Study Notes, data structure, hash" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="1749788565247320" property="fb:app_id">
    <meta content="Study Notes" property="og:site_name">

    

    
      <meta content="Hash" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="My Personal Study Notes" property="og:description">
    

    
      <meta content="http://localhost:4000/data%20structure/hash/2020/04/26/Hash.html" property="og:url">
    

    
      <meta content="2020-04-26T21:45:00-04:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    

    
      
        <meta content="data structure" property="article:section">
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@github.io">
    <meta name="twitter:creator" content="@github.io">

    
      <meta name="twitter:title" content="Hash">
    

    
      <meta name="twitter:url" content="http://localhost:4000/data%20structure/hash/2020/04/26/Hash.html">
    

    
      <meta name="twitter:description" content="My Personal Study Notes">
    

    

    <!-- Font awesome icons -->
    <link href="/static/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/">Home</a>
          <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#introduction">Introduction</a></li>
<li class="toc-entry toc-h2"><a href="#general-idea">General Idea</a></li>
<li class="toc-entry toc-h2"><a href="#hash-function">Hash Function</a></li>
<li class="toc-entry toc-h2"><a href="#separate-chaining">Separate Chaining</a></li>
</ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <header class="post-header">
  <h1 class="post-title">Hash</h1>
</header>

<div class="info">
  <span class="time">26 Apr 2020</span>
  
    <span class="categories">
      &raquo; <a href="/category/data structure">data structure</a>, <a href="/category/hash">hash</a>
    </span>
  
</div>

<div class="content">
  <div class="post"><h2 id="introduction">Introduction</h2>

<p>The implementation of <strong>hash tables</strong> is frequently called <strong>hashing</strong>. Hashing is a technique used for performing insertions, deletions, and searches in constant average time. Tree operations that require any ordering information among the elements are not supported efficiently. Operations such as <code class="language-plaintext highlighter-rouge">findmax</code>, <code class="language-plaintext highlighter-rouge">findmin</code> , and the printing of the entire table in sorted order in linear time are not supported.</p>

<p>We will</p>

<ul>
  <li>see several methods of implementing the hash table</li>
  <li>compare these methods analytically</li>
  <li>show numerous applications of hashing</li>
  <li>compare hash tables with binary search trees</li>
</ul>

<h2 id="general-idea">General Idea</h2>

<p>The idea hash table data structure is merely an array of some fixed size, containing the items.</p>

<p>A search is performed on some part (data field) of the item, which is called the <strong>key</strong>.</p>

<p>Each key is mapped into some number in the range 0 to TableSize - 1 and placed in the appropriate cell. The mapping is called a <strong>hash function</strong>, which is ideally should be simple to compute and should ensure that any two distinct keys get different cells.</p>

<p>The only remaining problems deal with choosing a function, deciding what to do when two keys hash to the same value(known as a <strong>collision</strong>), and deciding on the table size.</p>

<h2 id="hash-function">Hash Function</h2>

<p>If the input keys are integers, then simply returning <em>Key</em> mod <em>TableSize</em> is generally a reasonable strategy. If the table size is 10 and the keys all end in zero, then the standard hash function is a bad choice. It is often a good idea to ensure that the table size is <strong>prime</strong>. When the input keys are random integers, then this function is not only very simple to compute but also distributes the keys evenly.</p>

<p>Usually, the keys are strings.</p>

<p>One option is to add up the ASCII (or Unicode) values of the characters in the string.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// A simple hash fucntion</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">has</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">int</span> <span class="n">tabelSize</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">hashVal</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">key</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
        <span class="n">hashVal</span> <span class="o">+=</span> <span class="n">key</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">hashVal</span> <span class="o">%</span> <span class="n">tableSize</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>If the table size is large, the function does not distribute the keys well. ex. TabelSize = 10070, keys are eight or fewer characters long. Since an ASCII character has an integer value that is always at most 127, the hash function typically can only assume values between 0 and 1016(127*8).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Another possible hash function -- not too good</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">itn</span> <span class="nf">hash</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">int</span> <span class="n">tableSize</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">key</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">+</span> <span class="mi">27</span><span class="o">*</span><span class="n">key</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="mi">729</span><span class="o">*</span><span class="n">key</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span> <span class="o">%</span> <span class="n">tableSize</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The above hash function assumes that <em>Key</em> has at least 3 characters. The value 27 represents the number of letters in the English alphabet, plus the blank, and 729 is $27^2$. ex. tabelsize= 10070, the number of different 3 characters combinations is only 2851(English is not random), only 28% of the table can actually be hashed to. Thus this function although easily computable, is not also appropriate if the hash table is reasonably large.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// A good hash function</span>
<span class="cm">/**
 * A hash routine for String objects.
 * @param key the String to hash.
 * @param tableSize the size of the hash table.
 * @return the hash value.
 */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">hash</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">int</span> <span class="n">tableSize</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">hashVal</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">key</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
        <span class="n">hashVal</span> <span class="o">=</span> <span class="mi">37</span> <span class="o">*</span> <span class="n">hashVal</span> <span class="o">+</span> <span class="n">key</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    <span class="n">hashVal</span> <span class="o">%=</span> <span class="n">tableSize</span><span class="o">;</span>
    <span class="k">if</span><span class="o">(</span><span class="n">hashVal</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
        <span class="n">hashVal</span> <span class="o">+=</span> <span class="n">tableSize</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">hashVal</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The above hash function computes $\sum_{i=0}^{KeySize-1} Key[KeySize-1-i]*37^i$ and brings the result into proper range. The code computes a polynomial function(of 37) by use of Horner’s rule. The has function takes advantage of the fact that overflow is allowed. This may introduce a negative number, thus the extra test at the end. If the keys are very long, the hash function will take too long to compute. A common practice in this case is not to use all characters.</p>

<p>The main programming detail left is collision resolution. If, when an element is inserted, it hashes to the same value as an already inserted element, then we have a <strong>collision</strong> and need to resolve it. There are several methods for dealing with this. We will discuss two of the simplest: separate chaining and open addressing; then we will look at some more recently discovered alternatives.</p>

<h2 id="separate-chaining">Separate Chaining</h2>

<p>The first strategy, commonly known as <strong>separate chaining</strong>, is to keep a list of all elements that hash to the same value.</p>

<p>To perform a <code class="language-plaintext highlighter-rouge">search</code>, we use the hash function to determine which list to traverse. We then search the appropriate list. To perform an <code class="language-plaintext highlighter-rouge">insert</code>, we check the appropriate list to see whether the element is already in place (if duplicates are expected, an extra field is usually kept, and this field would be incremented in the event of a match). If the element turns out to be new, it is inserted at the front of the list, since it is convenient and also because frequently it happens that recently inserted elements are the most likely to be accessed in the near future.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Class skeleton(骨架) for separate chaining hash table</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SeparateChainingHashTable</span><span class="o">&lt;</span><span class="nc">AnyType</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">SeparateChainingHashTable</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nf">SeparateChainingHashTable</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="nc">AnyType</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="nc">AnyType</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contains</span><span class="o">(</span><span class="nc">AnyType</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">makeEmpty</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DEFAULT_TABLE_SIZE</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span>
    
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">AnyType</span><span class="o">&gt;</span> <span class="o">[]</span> <span class="n">thelists</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">currentSize</span><span class="o">;</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">rehash</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">myhash</span><span class="o">(</span><span class="nc">AnyType</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">nextPrime</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isPrime</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
</div>
  <div class="share-page">
  <span style="float: left;">Share this on &rarr;&nbsp;&nbsp;</span>

  <!-- Twitter -->
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="github.io">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <!-- Facebook -->
  <div class="fb-share-button" data-href="http://localhost:4000/data%20structure/hash/2020/04/26/Hash.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=1749788565247320";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</div>


  
    
      
        
          
      
          
      
    
        
          
      
          
      
    
  
    
      
        
          
            
            <div class="panel-body">
              <h4>Related Posts</h4>
              <ul>
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/data%20structure/tree/2020/04/11/Trees.html">Trees</a>
                  
                    (Categories: <a href="/category/data structure">data structure</a>, <a href="/category/tree">tree</a>)
                  
                </li>
          
          
        
      
          
      
    
        
          
      
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/data%20structure/list/2020/04/11/Lists-Stacks-and-Queues.html">Lists, Stacks, and Queues</a>
                  
                    (Categories: <a href="/category/data structure">data structure</a>, <a href="/category/list">list</a>)
                  
                </li>
          
          
        
      
          
      
    
        
          
      
          
      
    
  
  
  </ul>
</div>


<div class="PageNavigation">
  
    <a class="prev" href="/data%20structure/tree/2020/04/11/Trees.html">&laquo; Trees</a>
  
  
</div>

<div class="disqus-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* <![CDATA[ */
    var disqus_shortname = "stackproblems";
    var disqus_identifier = "http://localhost:4000_Hash";
    var disqus_title = "Hash";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    /* ]]> */
  </script>
</div>


        <footer>
          &copy; Claire Deng
          
            - <a href="https://github.com/clairedeng">https://github.com/clairedeng</a> - Powered by Jekyll.
          
          <div class="btn-github" style="float:right;">
            <iframe src="https://ghbtns.com/github-btn.html?user=clairedeng&repo=clairedeng.github.io&type=star&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe>
            <iframe src="https://ghbtns.com/github-btn.html?user=clairedeng&repo=clairedeng.github.io&type=fork&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe>
          </div>
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
          processEscapes: true
        }
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  </body>
</html>

